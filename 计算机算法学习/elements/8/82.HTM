1.3.3&#25554;&#20837;<BR><SPAN>
<P></P>
<P><SPAN style="COLOR: #d4d4d4"></SPAN></SPAN>&nbsp;<SPAN class=Ignore>&#20026;&#20102;&#29702;&#35299;RB-INSERT-FIXUP&#36807;&#31243;&#22914;&#20309;&#24037;&#20316;&#65292;&#25226;&#20195;&#30721;&#20998;&#20026;&#19977;&#20010;&#20027;&#35201;&#30340;&#27493;&#39588;&#12290;&#39318;&#20808;&#65292;&#35201;&#30830;<BR>&#24403;&#32467;&#28857;node&#34987;&#25554;&#20837;&#24182;&#30528;&#20026;&#32418;&#33394;&#21518;&#65292;&#32418;&#40657;&#24615;&#36136;&#20013;&#26377;&#21738;&#20123;&#19981;&#33021;&#32487;&#32493;&#20445;&#25345;&#12290;&#20854;&#27425;&#65292;&#24212;&#20998;&#26512;while&#24490;&#29615;&#30340;&#24635;&#30446;&#26631;&#12290;&#26368;&#21518;&#65292;&#35201;&#20998;&#26512;while&#24490;&#29615;&#20307;&#20013;&#30340;&#19977;&#31181;&#24773;&#20917;&#65292;&#30475;&#30475;&#23427;&#20204;&#26159;&#22914;&#20309;&#23436;&#25104;&#30446;&#26631;&#30340;&#12290;&#22270;13-4&#32473;&#20986;&#19968;&#20010;&#33539;&#20363;&#65292;&#26174;&#31034;&#22312;&#19968;&#26869;&#32418;&#40657;&#26641;&#19978;RB-INSERT-FIXUP&#22914;&#20309;&#25805;&#20316;</SPAN></P>
<DIV style="FONT-SIZE: 14px; FONT-FAMILY: Consolas, 'Courier New', monospace; WHITE-SPACE: pre; FONT-WEIGHT: normal; COLOR: #d4d4d4; LINE-HEIGHT: 19px; BACKGROUND-COLOR: #1e1e1e">
<DIV><SPAN style="COLOR: #569cd6">
<DIV><SPAN style="COLOR: #569cd6">typedef</SPAN><SPAN style="COLOR: #d4d4d4"> </SPAN><SPAN style="COLOR: #569cd6">struct</SPAN><SPAN style="COLOR: #d4d4d4"> RBtree</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">{</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #569cd6">_Bool</SPAN><SPAN style="COLOR: #d4d4d4"> nill;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #569cd6">_Bool</SPAN><SPAN style="COLOR: #d4d4d4"> color;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #569cd6">int</SPAN><SPAN style="COLOR: #d4d4d4"> key;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #569cd6">struct</SPAN><SPAN style="COLOR: #d4d4d4"> RBtree </SPAN><SPAN style="COLOR: #d4d4d4">*</SPAN><SPAN style="COLOR: #d4d4d4">lchild, </SPAN><SPAN style="COLOR: #d4d4d4">*</SPAN><SPAN style="COLOR: #d4d4d4">rchild;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #569cd6">struct</SPAN><SPAN style="COLOR: #d4d4d4"> RBtree </SPAN><SPAN style="COLOR: #d4d4d4">*</SPAN><SPAN style="COLOR: #d4d4d4">p;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">} rbtree;</SPAN></DIV></SPAN></DIV>
<DIV><SPAN style="COLOR: #569cd6">void</SPAN><SPAN style="COLOR: #d4d4d4"> </SPAN><SPAN style="COLOR: #dcdcaa">rbInsertFixup</SPAN><SPAN style="COLOR: #d4d4d4">(rbtree </SPAN><SPAN style="COLOR: #d4d4d4">*</SPAN><SPAN style="COLOR: #d4d4d4">node,rbtree </SPAN><SPAN style="COLOR: #d4d4d4">**</SPAN><SPAN style="COLOR: #d4d4d4">root)</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">{</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #c586c0">while</SPAN><SPAN style="COLOR: #d4d4d4">(node-&gt;</SPAN><SPAN style="COLOR: #9cdcfe">p</SPAN><SPAN style="COLOR: #d4d4d4">-&gt;</SPAN><SPAN style="COLOR: #9cdcfe">color</SPAN><SPAN style="COLOR: #d4d4d4"> </SPAN><SPAN style="COLOR: #d4d4d4">==</SPAN><SPAN style="COLOR: #d4d4d4"> RED)</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #c586c0"><SPAN><SPAN style="COLOR: #c586c0">//&#30053;&#21435;&#21306;&#20998;&#20004;&#31181;&#24773;&#20917;&#30340;if&#35821;&#21477;</SPAN></SPAN></SPAN></DIV>
<DIV><SPAN style="COLOR: #c586c0"><SPAN><SPAN style="COLOR: #d4d4d4"></SPAN></SPAN></SPAN><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: #d4d4d4"><FONT color=#608b4e>//&#30053;&#21435;y&#30340;&#21464;&#37327;&#22768;&#26126;</FONT></SPAN></SPAN></DIV></SPAN><SPAN style="COLOR: #c586c0"><SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: #608b4e">//&#30053;&#21435;&#24773;&#20917;1&#12289;2</SPAN></SPAN></SPAN></SPAN><SPAN style="COLOR: #d4d4d4"><SPAN></DIV>
<DIV></SPAN></SPAN><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class=cloze>[&#24773;&#20917;3]</SPAN></SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4"><SPAN class=cloze></SPAN></SPAN><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #c586c0">else</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4"><SPAN style="COLOR: #608b4e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&#19982;&#19978;&#38754;&#23545;&#31216;&#65292;&#30053;&#21435;</SPAN></SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #d4d4d4">}</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">&nbsp;&nbsp;&nbsp;&nbsp;(</SPAN><SPAN style="COLOR: #d4d4d4">*</SPAN><SPAN style="COLOR: #d4d4d4">root)-&gt;</SPAN><SPAN style="COLOR: #9cdcfe">color</SPAN><SPAN style="COLOR: #d4d4d4"> </SPAN><SPAN style="COLOR: #d4d4d4">=</SPAN><SPAN style="COLOR: #d4d4d4"> BLACK;</SPAN></DIV>
<DIV><SPAN style="COLOR: #d4d4d4">}</SPAN></DIV></DIV>
<P><SPAN class=Ignore><B><B><BR></B></B></SPAN><B><B>RB-INSERT-FIXUP &#25805;&#20316;<SPAN class=Highlight>&#12290;&#12304;1&#12305;&#65288;a)&#25554;&#20837;&#21518;&#30340;&#32467;&#28857;node&#12290;&#30001;&#20110;node&#21644;&#23427;&#30340;&#29238;&#32467;&#28857;node-&gt;p&#37117;&#26159;&#32418;&#33394;&#30340;&#65292;&#25152;&#20197;&#36829;&#21453;&#20102;&#24615;&#36136;4&#12290;&#30001;&#20110;z&#30340;&#21460;&#32467;&#28857;y&#20063;&#26159;&#32418;&#33394;&#30340;&#65292;&#21487;&#20197;&#24212;&#29992;&#31243;&#24207;&#20013;&#30340;&#24773;&#20917;1&#12290;&#32467;&#28857;&#34987;&#37325;&#26032;&#30528;&#33394;&#65292;&#24182;&#19988;&#25351;&#38024;z&#27839;&#26641;&#19978;&#21319;&#65292;&#25152;&#24471;&#30340;&#26641;&#22914;(b)&#25152;&#31034;</SPAN>&#12290;&#12304;2&#12305;<SPAN class=Highlight>&#20877;&#19968;&#27425;node&#21450;&#20854;&#29238;&#32467;&#28857;&#21448;&#37117;&#20026;&#32418;&#33394;&#65292;&#20294;node&#30340;&#21460;&#32467;&#28857;y&#26159;&#40657;&#33394;&#30340;&#12290;&#22240;&#20026;node &#26159;node.p &#30340;&#21491;&#23401;&#23376;&#65292;&#21487;&#20197;&#24212;&#29992;&#24773;&#20917;2&#12290;&#22312;&#25191;&#34892;1&#27425;&#24038;&#26059;&#20043;&#21518;&#65292;&#25152;&#24471;&#32467;&#26524;&#26641;&#35265;(c</SPAN>)&#12290;&#12304;<SPAN class=Highlight>3&#12305;&#29616;&#22312;,node&#26159;&#20854;&#29238;&#32467;&#28857;&#30340;&#24038;&#23401;&#23376;&#65292;&#21487;&#20197;&#24212;&#29992;&#24773;&#20917;3&#12290;&#37325;&#26032;&#30528;&#33394;&#24182;&#25191;&#34892;&#19968;&#27425;&#21491;&#26059;&#21518;&#24471;(d)&#20013;&#30340;&#26641;&#65292;&#23427;&#26159;&#19968;&#26869;&#21512;&#27861;&#30340;&#32418;&#40657;&#26641;.</SPAN></B></B></P>
<P><B><B>&nbsp;</P></B></B>